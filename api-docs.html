<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facility Management API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8fafc;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            margin-bottom: 40px;
            border-radius: 12px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav h3 {
            margin-bottom: 15px;
            color: #4a5568;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .nav a:hover {
            background-color: #667eea;
            color: white;
        }

        .section {
            background: white;
            margin-bottom: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            overflow: hidden;
        }

        .section-header {
            background: #f7fafc;
            padding: 25px 30px;
            border-bottom: 1px solid #e2e8f0;
        }

        .section-header h2 {
            color: #2d3748;
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .section-header p {
            color: #718096;
            font-size: 1.1rem;
        }

        .section-content {
            padding: 30px;
        }

        .endpoint {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #e2e8f0;
        }

        .endpoint:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .method {
            padding: 6px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .method.get { background: #e6fffa; color: #00695c; }
        .method.post { background: #e8f5e8; color: #2e7d32; }
        .method.put { background: #fff3e0; color: #ef6c00; }
        .method.delete { background: #ffebee; color: #c62828; }

        .endpoint-url {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 1.1rem;
            color: #4a5568;
            font-weight: 500;
        }

        .endpoint-description {
            color: #718096;
            margin-bottom: 20px;
            font-size: 1.05rem;
        }

        .params, .response {
            margin-top: 20px;
        }

        .params h4, .response h4 {
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
        }

        .param-table th {
            background: #f7fafc;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: #4a5568;
            border-bottom: 1px solid #e2e8f0;
        }

        .param-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
        }

        .param-table tr:last-child td {
            border-bottom: none;
        }

        .param-name {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-weight: 600;
            color: #667eea;
        }

        .param-type {
            color: #e53e3e;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.5;
        }

        .code-block .comment {
            color: #68d391;
        }

        .code-block .string {
            color: #fbb6ce;
        }

        .code-block .number {
            color: #90cdf4;
        }

        .code-block .keyword {
            color: #f6e05e;
        }

        .base-url {
            background: #edf2f7;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }

        .base-url strong {
            color: #2d3748;
        }

        .base-url code {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        .status-codes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .status-code {
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .status-200 { background: #e6fffa; color: #00695c; }
        .status-201 { background: #e8f5e8; color: #2e7d32; }
        .status-400 { background: #fff3e0; color: #ef6c00; }
        .status-404 { background: #ffebee; color: #c62828; }
        .status-500 { background: #fce4ec; color: #ad1457; }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav ul {
                flex-direction: column;
            }
            
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .param-table {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Facility Management API</h1>
            <p>Complete API documentation for managing companies and facilities with geospatial data</p>
        </div>

        <div class="nav">
            <h3>Quick Navigation</h3>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#companies">Companies</a></li>
                <li><a href="#facilities">Facilities</a></li>
                <li><a href="#upload">Upload</a></li>
                <li><a href="#templates">Templates</a></li>
                <li><a href="#health">Health Check</a></li>
            </ul>
        </div>

        <div id="overview" class="section">
            <div class="section-header">
                <h2>API Overview</h2>
                <p>RESTful API for managing companies and their facilities with geospatial capabilities</p>
            </div>
            <div class="section-content">
                <div class="base-url">
                    <strong>Base URL:</strong> <code>http://localhost:5000</code>
                </div>
                
                <h3>Features</h3>
                <ul style="margin: 20px 0; padding-left: 20px;">
                    <li>Company management with custom legend colors</li>
                    <li>Facility management with geospatial data</li>
                    <li>CSV bulk upload for companies and facilities</li>
                    <li>Geocoding and reverse geocoding support</li>
                    <li>Proximity-based facility search</li>
                    <li>Advanced filtering capabilities</li>
                </ul>

                <h3>Authentication</h3>
                <p>Currently, this API does not require authentication. All endpoints are publicly accessible.</p>

                <h3>Response Format</h3>
                <p>All responses are in JSON format. Error responses include a <code>message</code> field with details about the error.</p>
            </div>
        </div>

        <div id="companies" class="section">
            <div class="section-header">
                <h2>Companies</h2>
                <p>Manage company records with unique names and legend colors</p>
            </div>
            <div class="section-content">
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/companies</span>
                    </div>
                    <div class="endpoint-description">Retrieve all active companies with their associated facilities.</div>
                    
                    <div class="response">
                        <h4>Response Example</h4>
                        <div class="code-block">
[
  {
    <span class="string">"_id"</span>: <span class="string">"507f1f77bcf86cd799439011"</span>,
    <span class="string">"name"</span>: <span class="string">"Tech Corp"</span>,
    <span class="string">"legend_color"</span>: <span class="string">"#FF5733"</span>,
    <span class="string">"active"</span>: <span class="keyword">true</span>,
    <span class="string">"created_at"</span>: <span class="string">"2024-01-15T10:30:00.000Z"</span>,
    <span class="string">"updated_at"</span>: <span class="string">"2024-01-15T10:30:00.000Z"</span>,
    <span class="string">"facilities"</span>: [
      {
        <span class="string">"_id"</span>: <span class="string">"507f1f77bcf86cd799439012"</span>,
        <span class="string">"name"</span>: <span class="string">"Mountain View Office"</span>,
        <span class="string">"address"</span>: <span class="string">"1600 Amphitheatre Parkway, Mountain View, CA 94043"</span>,
        <span class="string">"city"</span>: <span class="string">"Mountain View"</span>,
        <span class="string">"state"</span>: <span class="string">"CA"</span>,
        <span class="string">"location"</span>: {
          <span class="string">"type"</span>: <span class="string">"Point"</span>,
          <span class="string">"coordinates"</span>: [<span class="number">-122.0842</span>, <span class="number">37.4220</span>]
        }
      }
    ]
  }
]
                        </div>
                        <div class="status-codes">
                            <div class="status-code status-200"><strong>200</strong> Success</div>
                            <div class="status-code status-500"><strong>500</strong> Server Error</div>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/companies/:id</span>
                    </div>
                    <div class="endpoint-description">Retrieve a specific company by ID with its facilities.</div>
                    
                    <div class="params">
                        <h4>Path Parameters</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">id</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>MongoDB ObjectId of the company</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="status-codes">
                        <div class="status-code status-200"><strong>200</strong> Success</div>
                        <div class="status-code status-404"><strong>404</strong> Company not found</div>
                        <div class="status-code status-500"><strong>500</strong> Server Error</div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/companies</span>
                    </div>
                    <div class="endpoint-description">Create a new company.</div>
                    
                    <div class="params">
                        <h4>Request Body</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Field</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">name</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Yes</td>
                                    <td>Company name (2-200 characters, unique)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">legend_color</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Yes</td>
                                    <td>Hex color code (e.g., #FF5733)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="response">
                        <h4>Request Example</h4>
                        <div class="code-block">
{
  <span class="string">"name"</span>: <span class="string">"Tech Corp"</span>,
  <span class="string">"legend_color"</span>: <span class="string">"#FF5733"</span>
}
                        </div>
                    </div>

                    <div class="status-codes">
                        <div class="status-code status-201"><strong>201</strong> Created</div>
                        <div class="status-code status-400"><strong>400</strong> Validation Error</div>
                        <div class="status-code status-500"><strong>500</strong> Server Error</div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method put">PUT</span>
                        <span class="endpoint-url">/api/companies/:id</span>
                    </div>
                    <div class="endpoint-description">Update an existing company.</div>
                    
                    <div class="params">
                        <h4>Path Parameters</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">id</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>MongoDB ObjectId of the company</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="status-codes">
                        <div class="status-code status-200"><strong>200</strong> Updated</div>
                        <div class="status-code status-400"><strong>400</strong> Validation Error</div>
                        <div class="status-code status-404"><strong>404</strong> Company not found</div>
                        <div class="status-code status-500"><strong>500</strong> Server Error</div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method delete">DELETE</span>
                        <span class="endpoint-url">/api/companies/:id</span>
                    </div>
                    <div class="endpoint-description">Soft delete a company (sets active to false).</div>
                    
                    <div class="status-codes">
                        <div class="status-code status-200"><strong>200</strong> Deleted</div>
                        <div class="status-code status-404"><strong>404</strong> Company not found</div>
                        <div class="status-code status-500"><strong>500</strong> Server Error</div>
                    </div>
                </div>

            </div>
        </div>

        <div id="facilities" class="section">
            <div class="section-header">
                <h2>Facilities</h2>
                <p>Manage facility locations with geospatial data and advanced search capabilities</p>
            </div>
            <div class="section-content">
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/facilities</span>
                    </div>
                    <div class="endpoint-description">Retrieve all active facilities with company information.</div>
                    
                    <div class="response">
                        <h4>Response Example</h4>
                        <div class="code-block">
[
  {
    <span class="string">"_id"</span>: <span class="string">"507f1f77bcf86cd799439012"</span>,
    <span class="string">"companyId"</span>: {
      <span class="string">"_id"</span>: <span class="string">"507f1f77bcf86cd799439011"</span>,
      <span class="string">"name"</span>: <span class="string">"Tech Corp"</span>,
      <span class="string">"legend_color"</span>: <span class="string">"#FF5733"</span>
    },
    <span class="string">"name"</span>: <span class="string">"Mountain View Office"</span>,
    <span class="string">"address"</span>: <span class="string">"1600 Amphitheatre Parkway, Mountain View, CA 94043"</span>,
    <span class="string">"city"</span>: <span class="string">"Mountain View"</span>,
    <span class="string">"state"</span>: <span class="string">"CA"</span>,
    <span class="string">"zipCode"</span>: <span class="string">"94043"</span>,
    <span class="string">"location"</span>: {
      <span class="string">"type"</span>: <span class="string">"Point"</span>,
      <span class="string">"coordinates"</span>: [<span class="number">-122.0842</span>, <span class="number">37.4220</span>]
    },
    <span class="string">"active"</span>: <span class="keyword">true</span>,
    <span class="string">"created_at"</span>: <span class="string">"2024-01-15T10:30:00.000Z"</span>
  }
]
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/facilities/filter</span>
                    </div>
                    <div class="endpoint-description">Get facilities with advanced filtering options.</div>
                    
                    <div class="params">
                        <h4>Query Parameters</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">companies</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Comma-separated company IDs</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">states</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Comma-separated state codes</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">searchTerm</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Search in address, city, or state</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">latitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Latitude for proximity search</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">longitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Longitude for proximity search</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">radius</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Search radius (default: 50)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">unit</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Distance unit: "miles" or "kilometers"</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/facilities/nearby</span>
                    </div>
                    <div class="endpoint-description">Find facilities within a specified radius of coordinates.</div>
                    
                    <div class="params">
                        <h4>Query Parameters</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">latitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Yes</td>
                                    <td>Latitude coordinate</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">longitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Yes</td>
                                    <td>Longitude coordinate</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">radius</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>No</td>
                                    <td>Search radius (default: 50)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">unit</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>No</td>
                                    <td>"miles" or "kilometers" (default: miles)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/facilities/state/:state</span>
                    </div>
                    <div class="endpoint-description">Find all facilities in a specific state.</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/facilities/company/:companyId</span>
                    </div>
                    <div class="endpoint-description">Find all facilities belonging to a specific company.</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/facilities</span>
                    </div>
                    <div class="endpoint-description">Create a new facility. Provide either address for geocoding or coordinates for reverse geocoding.</div>
                    
                    <div class="params">
                        <h4>Request Body</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Field</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">companyId</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Yes</td>
                                    <td>MongoDB ObjectId of the company</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">address</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>*</td>
                                    <td>Full address (required if no coordinates)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">latitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>*</td>
                                    <td>Latitude (required if no address)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">longitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>*</td>
                                    <td>Longitude (required if no address)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">name</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>No</td>
                                    <td>Facility name (auto-generated if not provided)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="response">
                        <h4>Request Example</h4>
                        <div class="code-block">
{
  <span class="string">"companyId"</span>: <span class="string">"507f1f77bcf86cd799439011"</span>,
  <span class="string">"address"</span>: <span class="string">"1600 Amphitheatre Parkway, Mountain View, CA 94043"</span>,
  <span class="string">"name"</span>: <span class="string">"Mountain View Office"</span>
}
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="upload" class="section">
            <div class="section-header">
                <h2>CSV Upload</h2>
                <p>Bulk import companies and facilities from CSV files</p>
            </div>
            <div class="section-content">
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-url">/api/upload/csv</span>
                    </div>
                    <div class="endpoint-description">Upload a CSV file containing company and facility data. Supports both address-based and coordinate-based data.</div>
                    
                    <div class="params">
                        <h4>Form Data</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Field</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">file</span></td>
                                    <td><span class="param-type">file</span></td>
                                    <td>CSV file (max 10MB)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="params">
                        <h4>Required CSV Columns</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Column</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">company_name</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Name of the company</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">legend_color</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Hex color code (e.g., #FF5733)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">address</span></td>
                                    <td><span class="param-type">string</span></td>
                                    <td>Full address (OR use coordinates)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">latitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Latitude coordinate (OR use address)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">longitude</span></td>
                                    <td><span class="param-type">number</span></td>
                                    <td>Longitude coordinate (OR use address)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="response">
                        <h4>Response Example</h4>
                        <div class="code-block">
{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"message"</span>: <span class="string">"CSV processed successfully"</span>,
  <span class="string">"summary"</span>: {
    <span class="string">"totalRows"</span>: <span class="number">100</span>,
    <span class="string">"processedRows"</span>: <span class="number">95</span>,
    <span class="string">"skippedRows"</span>: <span class="number">3</span>,
    <span class="string">"errorRows"</span>: <span class="number">2</span>,
    <span class="string">"companiesProcessed"</span>: <span class="number">5</span>,
    <span class="string">"totalFacilities"</span>: <span class="number">95</span>
  },
  <span class="string">"companies"</span>: [
    {
      <span class="string">"company"</span>: <span class="string">"Tech Corp"</span>,
      <span class="string">"facilitiesCount"</span>: <span class="number">20</span>,
      <span class="string">"newFacilities"</span>: <span class="number">18</span>
    }
  ]
}
                        </div>
                    </div>

                    <div class="status-codes">
                        <div class="status-code status-200"><strong>200</strong> Success</div>
                        <div class="status-code status-400"><strong>400</strong> Invalid file or format</div>
                        <div class="status-code status-500"><strong>500</strong> Server Error</div>
                    </div>
                </div>

            </div>
        </div>

        <div id="templates" class="section">
            <div class="section-header">
                <h2>CSV Templates</h2>
                <p>Download sample CSV templates for data import</p>
            </div>
            <div class="section-content">
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/templates/address</span>
                    </div>
                    <div class="endpoint-description">Download a sample CSV template with address-based data format.</div>
                    
                    <div class="response">
                        <h4>Response</h4>
                        <p>Downloads a CSV file named <code>sample-address-template.csv</code> with the following structure:</p>
                        <div class="code-block">
company_name,legend_color,address
Tech Corp,#FF5733,"1600 Amphitheatre Parkway, Mountain View, CA 94043"
Tech Corp,#FF5733,"1 Hacker Way, Menlo Park, CA 94301"
Data Solutions,#33FF57,"410 Terry Ave N, Seattle, WA 98109"
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/templates/coordinates</span>
                    </div>
                    <div class="endpoint-description">Download a sample CSV template with coordinate-based data format.</div>
                    
                    <div class="response">
                        <h4>Response</h4>
                        <p>Downloads a CSV file named <code>sample-coordinates-template.csv</code> with the following structure:</p>
                        <div class="code-block">
company_name,legend_color,latitude,longitude
Mobile Corp,#FF33F5,37.4419,-122.1430
Cloud Services,#F5FF33,47.6062,-122.3321
AI Innovations,#33F5FF,40.7589,-73.9851
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="health" class="section">
            <div class="section-header">
                <h2>Health Check</h2>
                <p>API status and health monitoring</p>
            </div>
            <div class="section-content">
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/health</span>
                    </div>
                    <div class="endpoint-description">Check if the API is running and responsive.</div>
                    
                    <div class="response">
                        <h4>Response Example</h4>
                        <div class="code-block">
{
  <span class="string">"message"</span>: <span class="string">"API is up"</span>
}
                        </div>
                    </div>

                    <div class="status-codes">
                        <div class="status-code status-200"><strong>200</strong> API is healthy</div>
                    </div>
                </div>

            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <h2>Error Handling</h2>
                <p>Understanding API error responses</p>
            </div>
            <div class="section-content">
                <h3>Error Response Format</h3>
                <div class="code-block">
{
  <span class="string">"message"</span>: <span class="string">"Error description"</span>,
  <span class="string">"errors"</span>: [<span class="string">"Detailed error messages"</span>],
  <span class="string">"field"</span>: <span class="string">"field_name"</span> <span class="comment">// For duplicate key errors</span>
}
                </div>

                <h3>Common Error Codes</h3>
                <div class="status-codes">
                    <div class="status-code status-400"><strong>400</strong> Bad Request - Invalid input data</div>
                    <div class="status-code status-404"><strong>404</strong> Not Found - Resource doesn't exist</div>
                    <div class="status-code status-500"><strong>500</strong> Internal Server Error</div>
                </div>

                <h3>Validation Errors</h3>
                <ul style="margin: 20px 0; padding-left: 20px;">
                    <li><strong>Company name:</strong> Must be 2-200 characters, unique</li>
                    <li><strong>Legend color:</strong> Must be valid hex color (#RGB or #RRGGBB)</li>
                    <li><strong>Coordinates:</strong> Latitude (-90 to 90), Longitude (-180 to 180)</li>
                    <li><strong>Address:</strong> Must be at least 5 characters</li>
                </ul>
            </div>
        </div>

    </div>
</body>
</html>